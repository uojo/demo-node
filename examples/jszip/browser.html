<p>Works on firefox, chrome , opera &gt;= 15 and IE &gt;= 10 (but NOT in compatibility view).</p>
<button id="blob" class="btn btn-primary">click to download</button>
<h2>canvas</h2>
<div>
  <canvas id="myCanvas"></canvas>

</div>
<a href="https://stuk.github.io/jszip/">jszip</a>

<script src="https://stuk.github.io/jszip/test/jquery-1.8.3.min.js"></script>
<script src="https://stuk.github.io/jszip/dist/jszip.js"></script>
<script src="https://stuk.github.io/jszip/vendor/FileSaver.js"></script>
<script src="./img-data-base64.js"></script>
<script>
  var canvas = document.getElementById('myCanvas');
  var ctx = canvas.getContext('2d');
  ctx.fillStyle = '#FF0000';
  ctx.fillRect(0, 0, 80, 100);
  var imgData=ctx.getImageData(0,0,80,100);

  // 实例化
  var zip = new JSZip();
  zip.file("Hello.txt", "Hello world\n");

  var imgUrl = canvas.toDataURL('image/png');
  console.log(imgUrl)
  
  // zip.folder("images").file("smile.png", Base64.encodeURI(imgUrl), {base64: false});
  zip.folder("images").file("smile.png", img_c, {base64: true});

  jQuery("#blob").on("click", function () {
    zip.generateAsync({
      type: "blob"
    }).then(function (blob) { // 1) generate the zip file
      saveAs(blob, "hello.zip"); // 2) trigger the download
    }, function (err) {
      jQuery("#blob").text(err);
    });
  });
</script>